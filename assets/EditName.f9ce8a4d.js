import{d as c,u as i,a as d,r as m,c as p,b as s,l as h,m as b,v,g as f,w as g,F as _,h as k,i as x,j as F}from"./index.8726c92d.js";import{b as w}from"./index.254030a6.js";import{C as N}from"./js.cookie.dabc28e0.js";const C={class:"my-4"},B=s("button",{class:"transition-colors px-4 py-1 mr-2 border-black border rounded-lg hover:bg-black hover:text-white"},"\u53D6\u6D88",-1),L=c({__name:"EditName",setup(E){const o=i(),r=d(),e=m("");e.value=o.userName;async function u(){if(e.value=="")return r.warning("\u65B0\u6635\u79F0\u4E0D\u53EF\u4E3A\u7A7A"),0;o.networkLoading=!0;const t=await w(o.userId,e.value);t.code==0?(r.success(t.msg),o.userName=e.value,N.set("username",e.value),F.push("/home")):(t.code=3)&&r.error(t.msg),o.networkLoading=!1}return(t,a)=>{const n=k("RouterLink");return x(),p(_,null,[s("p",C,[h("\u65B0\u6635\u79F0\uFF1A "),b(s("input",{class:"border px-1 rounded-md",type:"text",placeholder:"\u8BF7\u8F93\u5165\u65B0\u6635\u79F0","onUpdate:modelValue":a[0]||(a[0]=l=>e.value=l)},null,512),[[v,e.value]])]),s("button",{class:"transition-colors px-4 py-1 mr-2 border-black border rounded-lg hover:bg-black hover:text-white",onClick:u},"\u4FEE\u6539"),f(n,{to:"/home"},{default:g(()=>[B]),_:1})],64)}}});export{L as default};
