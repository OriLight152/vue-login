import{d as g,u as x,a as b,n as _,r as l,c as m,b as u,l as i,m as d,v as c,f as D,p as A,g as h,w,F as k,k as y,h as V,i as v}from"./index.86d8df17.js";import{a as R}from"./index.68bb0acf.js";const N=u("p",{class:"text-center font-semibold text-xl mb-6"},"\u7528\u6237\u6CE8\u518C",-1),U={class:"relative my-4"},L={key:0,class:"absolute left-14 top-6 text-red-600 text-sm m-0"},T={class:"my-4"},I={class:"my-4"},j={class:"button-group mt-6 flex justify-center"},z=u("button",{class:"transition-colors px-4 py-1 mr-2 border-black border rounded-lg hover:bg-black hover:text-white"},"\u8FD4\u56DE",-1),$=g({__name:"Register",setup(M){const F=x(),e=b();let C=new RegExp("^[a-z0-9-_]{5,15}$");const p=_(()=>C.test(t.value)||t.value==""),t=l(""),n=l(""),a=l("");function E(){e.info("\u7528\u6237\u540D\u4EC5\u652F\u6301\u5C0F\u5199\u5B57\u6BCD\u3001\u6570\u5B57\u3001\u6A2A\u6760\u3001\u4E0B\u5212\u7EBF\u7EC4\u5408\uFF0C\u957F\u5EA65-15\u5B57\u7B26",{timeout:1e4})}async function f(){if(t.value=="")return e.warning("\u8D26\u53F7\u4E0D\u53EF\u4E3A\u7A7A"),0;if(n.value=="")return e.warning("\u6635\u79F0\u4E0D\u53EF\u4E3A\u7A7A"),0;if(a.value==""&&e.warning("\u5BC6\u7801\u4E0D\u53EF\u4E3A\u7A7A"),!p.value)return e.warning("\u5F53\u524D\u8D26\u53F7\u683C\u5F0F\u975E\u6CD5"),e.info("\u7528\u6237\u540D\u4EC5\u652F\u6301\u5C0F\u5199\u5B57\u6BCD\u3001\u6570\u5B57\u3001\u6A2A\u6760\u3001\u4E0B\u5212\u7EBF\u7EC4\u5408\uFF0C\u957F\u5EA65-15\u5B57\u7B26",{timeout:1e4}),0;F.networkLoading=!0;const s=await R(t.value,n.value,a.value);s.code==0?(e.success(s.msg),y.push("/login")):(s.code=3)&&e.error(s.msg),F.networkLoading=!1}return(s,o)=>{const B=V("RouterLink");return v(),m(k,null,[N,u("p",U,[i("\u8D26\u53F7\uFF1A "),d(u("input",{class:"border px-1 rounded-md",type:"text",placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7","onUpdate:modelValue":o[0]||(o[0]=r=>t.value=r),onFocusin:E},null,544),[[c,t.value]]),D(p)?A("",!0):(v(),m("span",L,"\u5F53\u524D\u8D26\u53F7\u683C\u5F0F\u975E\u6CD5"))]),u("p",T,[i("\u6635\u79F0\uFF1A "),d(u("input",{class:"border px-1 rounded-md",type:"text",placeholder:"\u8BF7\u8F93\u5165\u6635\u79F0","onUpdate:modelValue":o[1]||(o[1]=r=>n.value=r)},null,512),[[c,n.value]])]),u("p",I,[i("\u5BC6\u7801\uFF1A "),d(u("input",{class:"border px-1 rounded-md",type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801","onUpdate:modelValue":o[2]||(o[2]=r=>a.value=r)},null,512),[[c,a.value]])]),u("div",j,[h(B,{to:"/login"},{default:w(()=>[z]),_:1}),u("button",{class:"transition-colors px-4 py-1 mr-2 border-black border rounded-lg hover:bg-black hover:text-white",onClick:f},"\u6CE8\u518C")])],64)}}});export{$ as default};
